!function(t){"use strict";"function"==typeof define&&define.amd?define(["jquery"],t):"object"==typeof exports?module.exports=t(require("jquery")):t(jQuery)}(function(l){"use strict";var d="animsition",c={init:function(o){o=l.extend({inClass:"fade-in",outClass:"fade-out",inDuration:1500,outDuration:800,linkElement:".animsition-link",loading:!0,loadingParentElement:"body",loadingClass:"animsition-loading",loadingInner:"",timeout:!1,timeoutCountdown:5e3,onLoadEvent:!0,browser:["animation-duration","-webkit-animation-duration"],overlay:!1,overlayClass:"animsition-overlay-slide",overlayParentElement:"body",transition:function(t){window.location.href=t}},o),c.settings={timer:!1,data:{inClass:"animsition-in-class",inDuration:"animsition-in-duration",outClass:"animsition-out-class",outDuration:"animsition-out-duration",overlay:"animsition-overlay"},events:{inStart:"animsition.inStart",inEnd:"animsition.inEnd",outStart:"animsition.outStart",outEnd:"animsition.outEnd"}};var t=c.supportCheck.call(this,o);return t||!(0<o.browser.length)||t&&this.length?(c.optionCheck.call(this,o)&&l("."+o.overlayClass).length<=0&&c.addOverlay.call(this,o),o.loading&&l("."+o.loadingClass).length<=0&&c.addLoading.call(this,o),this.each(function(){var a=this,t=l(this),n=l(window),i=l(document);t.data(d)||(o=l.extend({},o),t.data(d,{options:o}),o.timeout&&c.addTimer.call(a),o.onLoadEvent&&n.on("load."+d,function(){c.settings.timer&&clearTimeout(c.settings.timer),c.in.call(a)}),n.on("pageshow."+d,function(t){t.originalEvent.persisted&&c.in.call(a)}),n.on("unload."+d,function(){}),i.on("click."+d,o.linkElement,function(t){t.preventDefault();var n=l(this),i=n.attr("href");2===t.which||t.metaKey||t.shiftKey||-1!==navigator.platform.toUpperCase().indexOf("WIN")&&t.ctrlKey?window.open(i,"_blank"):c.out.call(a,n,i)}))})):("console"in window||(window.console={},window.console.log=function(t){return t}),this.length||console.log("Animsition: Element does not exist on page."),t||console.log("Animsition: Does not support this browser."),c.destroy.call(this))},addOverlay:function(t){l(t.overlayParentElement).prepend('<div class="'+t.overlayClass+'"></div>')},addLoading:function(t){l(t.loadingParentElement).append('<div class="'+t.loadingClass+'">'+t.loadingInner+"</div>")},removeLoading:function(){var t=l(this).data(d).options;l(t.loadingParentElement).children("."+t.loadingClass).fadeOut().remove()},addTimer:function(){var t=this,n=l(this).data(d).options;c.settings.timer=setTimeout(function(){c.in.call(t),l(window).off("load."+d)},n.timeoutCountdown)},supportCheck:function(t){var n=l(this),i=t.browser,a=i.length,o=!1;0===a&&(o=!0);for(var e=0;e<a;e++)if("string"==typeof n.css(i[e])){o=!0;break}return o},optionCheck:function(t){var n=l(this),n=!(!t.overlay&&!n.data(c.settings.data.overlay));return n},animationCheck:function(t,n,i){var a=l(this).data(d).options,o=typeof t,e=!n&&"number"==o,o=n&&"string"==o&&0<t.length;return e||o||(n&&i?t=a.inClass:!n&&i?t=a.inDuration:n&&!i?t=a.outClass:n||i||(t=a.outDuration)),t},in:function(){var t=this,n=l(this),i=n.data(d).options,a=n.data(c.settings.data.inDuration),o=n.data(c.settings.data.inClass),e=c.animationCheck.call(t,a,!1,!0),s=c.animationCheck.call(t,o,!0,!0),a=c.optionCheck.call(t,i),o=n.data(d).outClass;i.loading&&c.removeLoading.call(t),o&&n.removeClass(o),(a?c.inOverlay:c.inDefault).call(t,s,e)},inDefault:function(t,n){var i=l(this);i.css({"animation-duration":n+"ms"}).addClass(t).trigger(c.settings.events.inStart).animateCallback(function(){i.removeClass(t).css({opacity:1}).trigger(c.settings.events.inEnd)})},inOverlay:function(t,n){var i=l(this),a=i.data(d).options;i.css({opacity:1}).trigger(c.settings.events.inStart),l(a.overlayParentElement).children("."+a.overlayClass).css({"animation-duration":n+"ms"}).addClass(t).animateCallback(function(){i.trigger(c.settings.events.inEnd)})},out:function(t,n){var i=this,a=l(this),o=a.data(d).options,e=t.data(c.settings.data.outClass),s=a.data(c.settings.data.outClass),r=t.data(c.settings.data.outDuration),t=a.data(c.settings.data.outDuration),s=e||s,t=r||t,s=c.animationCheck.call(i,s,!0,!1),t=c.animationCheck.call(i,t,!1,!1),o=c.optionCheck.call(i,o);a.data(d).outClass=s,(o?c.outOverlay:c.outDefault).call(i,s,t,n)},outDefault:function(t,n,i){var a=l(this),o=a.data(d).options;a.css({"animation-duration":n+1+"ms"}).addClass(t).trigger(c.settings.events.outStart).animateCallback(function(){a.trigger(c.settings.events.outEnd),o.transition(i)})},outOverlay:function(t,n,i){var a=l(this),o=a.data(d).options,e=a.data(c.settings.data.inClass),e=c.animationCheck.call(this,e,!0,!0);l(o.overlayParentElement).children("."+o.overlayClass).css({"animation-duration":n+1+"ms"}).removeClass(e).addClass(t).trigger(c.settings.events.outStart).animateCallback(function(){a.trigger(c.settings.events.outEnd),o.transition(i)})},destroy:function(){return this.each(function(){var t=l(this);l(window).off("."+d),t.css({opacity:1}).removeData(d)})}};l.fn.animateCallback=function(n){var i="animationend webkitAnimationEnd";return this.each(function(){var t=l(this);t.on(i,function(){return t.off(i),n.call(this)})})},l.fn.animsition=function(t){return c[t]?c[t].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof t&&t?void l.error("Method "+t+" does not exist on jQuery."+d):c.init.apply(this,arguments)}}),function(o){function t(){var i=.25*o(window).innerHeight(),a=Math.round(1/i*1e4)/1e4;o(".fade").each(function(){var t=o(this).offset().top,n=o(window).scrollTop()+o(window).innerHeight();t<n?t<n-i?o(this).css({transition:"opacity 0.1s linear,transform 0.5s cubic-bezier(0,0,0,1)",opacity:1,transform:"translateY(0)"}):o(this).css({transition:"opacity 0.25s linear,transform 0.5s cubic-bezier(0,0,0,1)",opacity:(n-t)*a,transform:"translateY(2em)"}):o(this).css("opacity",0)})}o('a[href*="#"]').not('[href="#"]').not('[href="#0"]').on("click",function(t){var n;location.pathname.replace(/^\//,"")!=this.pathname.replace(/^\//,"")||location.hostname!=this.hostname||(n=(n=o(this.hash)).length?n:o("[name="+this.hash.slice(1)+"]")).length&&(t.preventDefault(),o("html, body").animate({scrollTop:n.offset().top},500))}),o(".animsition").animsition({inClass:"fade-in-down",outClass:"fade-out-up",inDuration:1e3,outDuration:800,linkElement:".animsition-link",loading:!0,loadingParentElement:"body",loadingClass:"animsition-loading",loadingInner:"",timeout:!1,timeoutCountdown:5e3,onLoadEvent:!0,browser:["animation-duration","-webkit-animation-duration"],overlay:!1,overlayClass:"animsition-overlay-slide",overlayParentElement:"body",transition:function(t){window.location.href=t}}),o(window).on("load",function(){o(".fade").css("opacity",0),t()}),o(window).on("scroll",function(){t()})}(jQuery);